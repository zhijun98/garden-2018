<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:cc="http://xmlns.jcp.org/jsf/composite"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui">

    <!-- INTERFACE -->
    <cc:interface>
    </cc:interface>

    <!-- IMPLEMENTATION -->
    <cc:implementation>
        <p:panelGrid styleClass="roseNoBorder" rendered="#{roseUserSession.emailEditorRequired}">
            <p:row styleClass="roseNoBorder">
                <p:column styleClass="roseNoBorder" width="150">
                    <p:outputLabel value="#{roseText.EmailFrom}:"/>
                </p:column>
                <p:column styleClass="roseNoBorder">
                    <p:outputLabel value="#{roseUserSession.targetEmailFrom}" style="font-weight: bolder; font-style: italic"/>
                </p:column>
            </p:row>
            <p:row styleClass="roseNoBorder">
                <p:column styleClass="roseNoBorder" width="150">
                    <p:outputLabel for="emailTo" value="#{roseText.EmailTo}:"/>
                </p:column>
                <p:column styleClass="roseNoBorder">
                    <p:inputText id="emailTo" value="#{roseUserSession.targetEmailTo}" style="width: 100%"
                                 required="true" requiredMessage="#{roseText.EmailTo} - #{roseText.FieldRequired_T}">
                        <p:ajax/>
                    </p:inputText>
                </p:column>
            </p:row>
            <p:row styleClass="roseNoBorder">
                <p:column styleClass="roseNoBorder" width="150">
                </p:column>
                <p:column styleClass="roseNoBorder">
                    <p:outputLabel value="If you have multiple emails, you delimite them by semi-colon ';'."/>
                </p:column>
            </p:row>
            <p:row styleClass="roseNoBorder">
                <p:column styleClass="roseNoBorder" width="150">
                    <p:outputLabel for="emailSubject" value="#{roseText.Subject}:"/>
                </p:column>
                <p:column styleClass="roseNoBorder">
                    <p:inputText id="emailSubject" value="#{roseUserSession.targetSubject}" style="width: 100%"
                                 required="true" requiredMessage="#{roseText.Subject} - #{roseText.FieldRequired_T}">
                        <p:ajax/>
                    </p:inputText>
                </p:column>
            </p:row>
            <p:row styleClass="roseNoBorder">
                <p:column styleClass="roseNoBorder" width="150">
                    <h:outputLabel value="#{roseText.Attachment}:"/>
                </p:column>
                <p:column styleClass="roseNoBorder">
                    <p:fileUpload id="uploadedFile" value="#{roseUserSession.uploadedFile}" mode="simple"/>
                </p:column>
            </p:row>
            <p:row styleClass="roseNoBorder">
                <p:column styleClass="roseNoBorder" width="150">
                </p:column>
                <p:column styleClass="roseNoBorder">
                    <h:outputText style="font-size: 11px; font-style: italic" value=" (#{roseText.SelectAttachment})"/>
                </p:column>
            </p:row>
            <p:row styleClass="roseNoBorder">
                <p:column styleClass="roseNoBorder" width="150">
                    <p:outputLabel for="emailContent" value="#{roseText.Content}:"/>
                </p:column>
                <p:column styleClass="roseNoBorder" style="float: left">
                    <p:inputTextarea id="emailContent" value="#{roseUserSession.targetContent}" style="width: 550px" rows="15"
                                     required="true" requiredMessage="#{roseText.Content} - #{roseText.FieldRequired_T}">
                        <p:ajax/>
                    </p:inputTextarea>
                </p:column>
            </p:row>
            <p:row styleClass="roseNoBorder">
                <p:column styleClass="roseNoBorder" width="150">
                </p:column>
                <p:column styleClass="roseNoBorder">
                    <h:panelGrid columns="3">
                        <h:commandButton class="btn btn-success" value="#{roseText.Send}" action="#{roseUserSession.sendTargetEmail}" />
                        <p:spacer width="2"/>
                        <p:commandButton immediate="true" value="#{roseText.Close}" style="color: darkgreen" 
                                         actionListener="#{roseUserSession.closeEmailEditorPanel()}"
                                         update="@form"/>
                    </h:panelGrid>
                </p:column>
            </p:row>
        </p:panelGrid>
    </cc:implementation>
</html>