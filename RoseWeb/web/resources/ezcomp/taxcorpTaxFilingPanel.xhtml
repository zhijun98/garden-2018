<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:cc="http://xmlns.jcp.org/jsf/composite"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:p="http://primefaces.org/ui">

    <!-- INTERFACE -->
    <cc:interface>
        <cc:attribute name="taxcorpCaseMgtBean" type="com.zcomapproach.garden.rose.bean.TaxcorpCaseMgtBean" required="true"/>
    </cc:interface>

    <!-- IMPLEMENTATION -->
    <cc:implementation>
        <p:outputPanel rendered="#{cc.attrs.taxcorpCaseMgtBean.targetTaxcorpCaseProfile.readyForTaxFiling}">
            <b:row>
                <b:column col-md="4">
                    <p:outputPanel>
                        <h:panelGrid columns="1" >
                            <p:spacer width="1"/>
                            <h:panelGrid columns="7" >
                                <h:link class="btn btn-info" style="color: yellow" value="#{roseText.PayrollTax}" 
                                        outcome="#{rosePages.taxFilingTypeProfileListPageName}">
                                    <f:param name="#{roseParamKeys.viewPurposeParamKey}" 
                                             value="#{roseParamValues.payrollTaxParamValue}"/>
                                    <f:param name="#{roseParamKeys.taxcorpCaseUuidParamKey}" 
                                             value="#{cc.attrs.taxcorpCaseMgtBean.targetTaxcorpCaseProfile.taxcorpCaseEntity.taxcorpCaseUuid}"/>
                                </h:link>
                                <p:spacer width="10"/>
                                <h:panelGrid columns="1">
                                    <h:panelGrid columns="3">
                                        <h:outputText value="#{roseText.Employee}: " style="font-weight: bolder; color: darkgreen"/>
                                        <p:spacer width="5"/>
                                        <h:outputText value="#{cc.attrs.taxcorpCaseMgtBean.targetTaxcorpCaseProfile.payrollTaxFilingEmployeeProfile.profileName}"/>
                                    </h:panelGrid>
                                    <ui:repeat value="#{cc.attrs.taxcorpCaseMgtBean.targetTaxcorpCaseProfile.nextComingPayrollTaxFilingProfileList}" 
                                               var="taxFilingProfile">
                                        <p:commandLink value="#{taxFilingProfile.profileName}" immediate="true">
                                            <p:ajax listener="#{cc.attrs.taxcorpCaseMgtBean.editNextComingPayrollTaxFilingProfile(taxFilingProfile.taxFilingEntity.taxFilingUuid)}" 
                                                    update="@(.roseTaxFilingDataEntryPanel)"/>
                                        </p:commandLink>
                                        <br/>
                                    </ui:repeat>
                                </h:panelGrid>
                            </h:panelGrid>
                        </h:panelGrid>
                    </p:outputPanel>
                </b:column>
                <b:column col-md="4">
                    <p:outputPanel>
                        <h:panelGrid columns="1" >
                            <p:spacer width="1"/>
                            <h:panelGrid columns="7">
                                <h:link class="btn btn-info" style="color: yellow" value="#{roseText.SalesTax}" 
                                        outcome="#{rosePages.taxFilingTypeProfileListPageName}">
                                    <f:param name="#{roseParamKeys.viewPurposeParamKey}" 
                                             value="#{roseParamValues.salesTaxParamValue}"/>
                                    <f:param name="#{roseParamKeys.taxcorpCaseUuidParamKey}" 
                                             value="#{cc.attrs.taxcorpCaseMgtBean.targetTaxcorpCaseProfile.taxcorpCaseEntity.taxcorpCaseUuid}"/>
                                </h:link>
                                <p:spacer width="10"/>
                                <h:panelGrid columns="1">
                                    <h:panelGrid columns="3" >
                                        <h:outputText value="#{roseText.Employee}: " style="font-weight: bolder; color: darkgreen"/>
                                        <p:spacer width="5"/>
                                        <h:outputText value="#{cc.attrs.taxcorpCaseMgtBean.targetTaxcorpCaseProfile.salesTaxFilingEmployeeProfile.profileName}"/>
                                    </h:panelGrid>
                                    <ui:repeat value="#{cc.attrs.taxcorpCaseMgtBean.targetTaxcorpCaseProfile.nextComingSalesTaxFilingProfileList}" 
                                               var="taxFilingProfile">
                                        <p:commandLink value="#{taxFilingProfile.profileName}" immediate="true">
                                            <p:ajax listener="#{cc.attrs.taxcorpCaseMgtBean.editNextComingSalesTaxFilingProfile(taxFilingProfile.taxFilingEntity.taxFilingUuid)}" 
                                                    update="@(.roseTaxFilingDataEntryPanel)"/>
                                        </p:commandLink>
                                    </ui:repeat>
                                </h:panelGrid>
                            </h:panelGrid>
                        </h:panelGrid>
                    </p:outputPanel>
                </b:column>
                <b:column col-md="4">
                    <p:outputPanel>
                        <h:panelGrid columns="1" >
                            <p:spacer width="1"/>
                            <h:panelGrid columns="5">
                                <h:link class="btn btn-info" style="color: yellow" value="#{roseText.TaxReturn}" 
                                        outcome="#{rosePages.taxFilingTypeProfileListPageName}">
                                    <f:param name="#{roseParamKeys.viewPurposeParamKey}" 
                                             value="#{roseParamValues.taxReturnParamValue}"/>
                                    <f:param name="#{roseParamKeys.taxcorpCaseUuidParamKey}" 
                                             value="#{cc.attrs.taxcorpCaseMgtBean.targetTaxcorpCaseProfile.taxcorpCaseEntity.taxcorpCaseUuid}"/>
                                </h:link>
                                <p:spacer width="10"/>
                                <h:panelGrid columns="1" >
                                    <h:panelGrid columns="3">
                                        <h:outputText value="#{roseText.Employee}: " style="font-weight: bolder; color: darkgreen"/>
                                        <p:spacer width="5"/>
                                        <h:outputText value="#{cc.attrs.taxcorpCaseMgtBean.targetTaxcorpCaseProfile.taxReturnFilingEmployeeProfile.profileName}"/>
                                    </h:panelGrid>
                                    <ui:repeat value="#{cc.attrs.taxcorpCaseMgtBean.targetTaxcorpCaseProfile.nextComingTaxReturnFilingProfileList}" 
                                               var="taxFilingProfile">
                                        <p:commandLink value="#{taxFilingProfile.profileName}" immediate="true">
                                            <p:ajax listener="#{cc.attrs.taxcorpCaseMgtBean.editNextComingTaxReturnFilingProfile(taxFilingProfile.taxFilingEntity.taxFilingUuid)}" 
                                                    update="@(.roseTaxFilingDataEntryPanel)"/>
                                        </p:commandLink>
                                    </ui:repeat>
                                </h:panelGrid>
                            </h:panelGrid>
                        </h:panelGrid>
                    </p:outputPanel>
                </b:column>
            </b:row>
            <p:outputPanel styleClass="roseTaxFilingDataEntryPanel" style="margin-top: 10px">
                <p:panel header="#{cc.attrs.taxcorpCaseMgtBean.targetNextComingTaxFilingProfile.profileDescriptiveName}" 
                         rendered="#{cc.attrs.taxcorpCaseMgtBean.taxFilingDataEntryPanelPresented}">
                    <p:panelGrid style="width: 100%;" styleClass="roseNoBorder">
                        <p:row styleClass="roseNoBorder">
                            <p:column styleClass="roseNoBorder">
                                <p:outputLabel for="deadline" value="#{roseText.Deadline}"/>
                            </p:column>
                            <p:column styleClass="roseNoBorder">
                                <p:calendar id="deadline" value="#{cc.attrs.taxcorpCaseMgtBean.targetNextComingTaxFilingProfile.taxFilingEntity.deadline}"  
                                            locale="#{roseUserSession.localeCode}" pattern="MM-dd-yyyy" placeholder="MM-dd-yyyy" navigator="true" />
                            </p:column>
                            <p:column styleClass="roseNoBorder">
                                <p:outputLabel for="memo" value="#{roseText.Memo}" />
                            </p:column>
                            <p:column styleClass="roseNoBorder">
                                <p:inputText id="memo" value="#{cc.attrs.taxcorpCaseMgtBean.targetNextComingTaxFilingProfile.taxFilingEntity.memo}" style="width: 100%">
                                    <p:ajax/>
                                </p:inputText>
                            </p:column>
                            <p:column styleClass="roseNoBorder">
                                <p:outputLabel for="extensionDate" value="#{roseText.ExtendTo}" />
                            </p:column>
                            <p:column styleClass="roseNoBorder">
                                <p:calendar id="extensionDate" value="#{cc.attrs.taxcorpCaseMgtBean.targetNextComingTaxFilingProfile.taxFilingEntity.extensionDate}" 
                                            locale="#{roseUserSession.localeCode}" pattern="MM-dd-yyyy" placeholder="MM-dd-yyyy" navigator="true"
                                            disabled="#{cc.attrs.taxcorpCaseMgtBean.targetNextComingTaxFilingProfile.extensionDisabled}" />
                            </p:column>
                            <p:column styleClass="roseNoBorder">
                                <p:outputLabel for="extensionMemo" value="#{roseText.ExtensionMemo}" />
                            </p:column>
                            <p:column styleClass="roseNoBorder">
                                <p:inputText id="extensionMemo" style="width: 100%" disabled="#{cc.attrs.taxcorpCaseMgtBean.targetNextComingTaxFilingProfile.extensionDisabled}" 
                                             value="#{cc.attrs.taxcorpCaseMgtBean.targetNextComingTaxFilingProfile.taxFilingEntity.extensionMemo}">
                                    <p:ajax/>
                                </p:inputText>
                            </p:column>
                        </p:row>
                        <p:row styleClass="roseNoBorder">
                            <p:column styleClass="roseNoBorder">
                                <p:outputLabel for="receivedDate" value="#{roseText.ReceivedDate}" />
                            </p:column>
                            <p:column styleClass="roseNoBorder">
                                <p:calendar id="receivedDate" value="#{cc.attrs.taxcorpCaseMgtBean.targetNextComingTaxFilingProfile.taxFilingEntity.receivedDate}" 
                                            locale="#{roseUserSession.localeCode}" pattern="MM-dd-yyyy" placeholder="MM-dd-yyyy" navigator="true"/>
                            </p:column>
                            <p:column styleClass="roseNoBorder">
                                <p:outputLabel for="receivedMemo" value="#{roseText.ReceivedMemo}" />
                            </p:column>
                            <p:column styleClass="roseNoBorder">
                                <p:inputText id="receivedMemo" value="#{cc.attrs.taxcorpCaseMgtBean.targetNextComingTaxFilingProfile.taxFilingEntity.receivedMemo}" style="width: 100%" >
                                    <p:ajax/>
                                </p:inputText>
                            </p:column>
                            <p:column styleClass="roseNoBorder">
                                <p:outputLabel for="preparedDate" value="#{roseText.PreparedDate}" />
                            </p:column>
                            <p:column styleClass="roseNoBorder">
                                <p:calendar id="preparedDate" value="#{cc.attrs.taxcorpCaseMgtBean.targetNextComingTaxFilingProfile.taxFilingEntity.preparedDate}"  
                                            locale="#{roseUserSession.localeCode}" pattern="MM-dd-yyyy" placeholder="MM-dd-yyyy" navigator="true"/>
                            </p:column>
                            <p:column styleClass="roseNoBorder">
                                <p:outputLabel for="preparedMemo" value="#{roseText.PreparedMemo}" />
                            </p:column>
                            <p:column styleClass="roseNoBorder">
                                <p:inputText id="preparedMemo" value="#{cc.attrs.taxcorpCaseMgtBean.targetNextComingTaxFilingProfile.taxFilingEntity.preparedMemo}" style="width: 100%">
                                    <p:ajax/>
                                </p:inputText>
                            </p:column>
                        </p:row>
                        <p:row styleClass="roseNoBorder">
                            <p:column styleClass="roseNoBorder">
                                <p:outputLabel for="completedDate" value="#{roseText.CompletedDate}" />
                            </p:column>
                            <p:column styleClass="roseNoBorder">
                                <p:calendar id="completedDate" value="#{cc.attrs.taxcorpCaseMgtBean.targetNextComingTaxFilingProfile.taxFilingEntity.completedDate}" 
                                            locale="#{roseUserSession.localeCode}" pattern="MM-dd-yyyy" placeholder="MM-dd-yyyy" navigator="true"/>
                            </p:column>
                            <p:column styleClass="roseNoBorder">
                                <p:outputLabel for="completedMemo" value="#{roseText.CompletedMemo}" />
                            </p:column>
                            <p:column styleClass="roseNoBorder">
                                <p:inputText id="completedMemo" value="#{cc.attrs.taxcorpCaseMgtBean.targetNextComingTaxFilingProfile.taxFilingEntity.completedMemo}" style="width: 100%" >
                                    <p:ajax/>
                                </p:inputText>
                            </p:column>
                            <p:column styleClass="roseNoBorder">
                                <p:outputLabel for="pickupDate" value="#{roseText.EfiledDate}" />
                            </p:column>
                            <p:column styleClass="roseNoBorder">
                                <p:calendar id="pickupDate" value="#{cc.attrs.taxcorpCaseMgtBean.targetNextComingTaxFilingProfile.taxFilingEntity.pickupDate}" 
                                            locale="#{roseUserSession.localeCode}" pattern="MM-dd-yyyy" placeholder="MM-dd-yyyy" navigator="true"/>
                            </p:column>
                            <p:column styleClass="roseNoBorder">
                                <p:outputLabel for="pickupMemo" value="#{roseText.EfiledMemo}" />
                            </p:column>
                            <p:column styleClass="roseNoBorder">
                                <p:inputText id="pickupMemo" value="#{cc.attrs.taxcorpCaseMgtBean.targetNextComingTaxFilingProfile.taxFilingEntity.pickupMemo}" style="width: 100%">
                                    <p:ajax/>
                                </p:inputText>
                            </p:column>
                        </p:row>
                    </p:panelGrid>
                    <h:panelGrid columns="5">
                        <p:commandButton value="#{roseText.SaveTaxFilingRecords}" update="@form" style="color: darkred"
                                         actionListener="#{cc.attrs.taxcorpCaseMgtBean.storeTargetNextComingTaxFilingProfile}"/>
                        <p:spacer width="2"/>
                        <p:commandButton value="#{roseText.Close}" immediate="true" update="@(.roseTaxFilingDataEntryPanel)" style="color: darkred"
                                         actionListener="#{cc.attrs.taxcorpCaseMgtBean.closeRoseTaxFilingDataEntryPanel}"/>
                        <p:spacer width="10"/>
                        <h:outputLabel id="errMessage" class="label label-info" value="#{cc.attrs.taxcorpCaseMgtBean.webMessage}" style="font-size: 12px;"/>
                        <p:messages/>
                    </h:panelGrid>
                </p:panel>
            </p:outputPanel>
        </p:outputPanel>
    </cc:implementation>
</html>